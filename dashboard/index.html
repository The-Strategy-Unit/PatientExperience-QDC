<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PatientExperience-QDC website - Dashboard</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../docs/_assets/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet">
<link href="../site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet">


<link rel="stylesheet" href="../_assets/style/styles.css">
<meta property="og:title" content="PatientExperience-QDC website - Dashboard">
<meta property="og:description" content="Website for the NHS England funded Patient Experience Qualitative Data Categorisation project">
<meta property="og:site_name" content="PatientExperience-QDC website">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> <i class="bi bi-book" role="img">
</i> 
<span class="menu-text">About PatientExperience-QDC</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../updates.html"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text">Blogposts</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-help" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Help</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-help">    
        <li>
    <a class="dropdown-item" href="https://github.com/The-Strategy-Unit/PatientExperience-QDC/issues"><i class="bi bi-bug" role="img">
</i> 
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/The-Strategy-Unit/PatientExperience-QDC/discussions"><i class="bi bi-chat-right-text" role="img">
</i> 
 <span class="dropdown-text">Ask a Question</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/The-Strategy-Unit/PatientExperience-QDC"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../dashboard/index.html">Experiences dashboard</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homepage</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../background/background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project background</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../background/phase_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Phase 1 overview</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../framework/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Qualitative Framework</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../framework/framework2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Framework development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../framework/framework3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Framework details</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../pxtextmining/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Machine learning (pxtextmining)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pxtextmining/performance_metrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project development: Performance metrics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pxtextmining/model_selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project development: Model selection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pxtextmining/additional_features.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project development: Additional features</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pxtextmining/model_performance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project outcomes: Model performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pxtextmining/using_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project outcomes: Using the models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pxtextmining/pxtextmining_learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project outcomes: Key takeaways</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../dashboard/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Experiences dashboard</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../dashboard/dashboard_good_practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Good practice guidance</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project_team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project team</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul>
  <li><a href="#the-structure" id="toc-the-structure" class="nav-link" data-scroll-target="#the-structure">The structure</a></li>
  </ul></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting started</a>
  <ul>
  <li><a href="#new-trust-onboarding-process" id="toc-new-trust-onboarding-process" class="nav-link" data-scroll-target="#new-trust-onboarding-process">New Trust Onboarding Process</a></li>
  <li><a href="#uploading-your-data" id="toc-uploading-your-data" class="nav-link" data-scroll-target="#uploading-your-data">Uploading your data</a></li>
  </ul></li>
  <li><a href="#using-the-dashboard" id="toc-using-the-dashboard" class="nav-link" data-scroll-target="#using-the-dashboard"><strong>Using the dashboard</strong></a>
  <ul>
  <li><a href="#data-selection" id="toc-data-selection" class="nav-link" data-scroll-target="#data-selection">Data Selection</a>
  <ul class="collapse">
  <li><a href="#sidebar-filters---affect-all-tabs" id="toc-sidebar-filters---affect-all-tabs" class="nav-link" data-scroll-target="#sidebar-filters---affect-all-tabs">Sidebar filters - affect all tabs</a></li>
  <li><a href="#tab-specific-filters---affect-a-specific-tab" id="toc-tab-specific-filters---affect-a-specific-tab" class="nav-link" data-scroll-target="#tab-specific-filters---affect-a-specific-tab">Tab-specific filters - affect a specific tab</a></li>
  </ul></li>
  <li><a href="#feature-tabs" id="toc-feature-tabs" class="nav-link" data-scroll-target="#feature-tabs">Feature tabs</a>
  <ul class="collapse">
  <li><a href="#understanding-the-categories" id="toc-understanding-the-categories" class="nav-link" data-scroll-target="#understanding-the-categories">Understanding the categories</a></li>
  <li><a href="#categorised-comments-over-time" id="toc-categorised-comments-over-time" class="nav-link" data-scroll-target="#categorised-comments-over-time">Categorised comments over time</a></li>
  <li><a href="#sub-categories-people-are-telling-us-about" id="toc-sub-categories-people-are-telling-us-about" class="nav-link" data-scroll-target="#sub-categories-people-are-telling-us-about">Sub-categories people are telling us about</a>
  <ul class="collapse">
  <li><a href="#number-of-samples-in-filtered-selection" id="toc-number-of-samples-in-filtered-selection" class="nav-link" data-scroll-target="#number-of-samples-in-filtered-selection">Number of samples in filtered Selection</a></li>
  <li><a href="#sub-category-table" id="toc-sub-category-table" class="nav-link" data-scroll-target="#sub-category-table">Sub-category table</a></li>
  </ul></li>
  <li><a href="#complex-comments" id="toc-complex-comments" class="nav-link" data-scroll-target="#complex-comments">Complex comments</a></li>
  <li><a href="#comment-search" id="toc-comment-search" class="nav-link" data-scroll-target="#comment-search">Comment Search</a></li>
  <li><a href="#additional-data-exploration-tools" id="toc-additional-data-exploration-tools" class="nav-link" data-scroll-target="#additional-data-exploration-tools">Additional data exploration tools</a></li>
  <li><a href="#respondent-demographics" id="toc-respondent-demographics" class="nav-link" data-scroll-target="#respondent-demographics">Respondent demographics</a></li>
  <li><a href="#data-upload-and-management-section" id="toc-data-upload-and-management-section" class="nav-link" data-scroll-target="#data-upload-and-management-section">Data upload and management section</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#what-next" id="toc-what-next" class="nav-link" data-scroll-target="#what-next">What Next?</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/The-Strategy-Unit/PatientExperience-QDC/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Dashboard</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The <a href="https://github.com/CDU-data-science-team/experiencesdashboard">Experience dashboard</a> is the front-end tool for the PatientExperience-QDC project. It ties the back-end, the <a href="../pxtextmining/index.html">Pxtextmining</a>, to the data source via an API and presents metrics and graphs to help clinical staff and managers gain quick insight from patient experience data and further explore the free text comments. A key focus of the dashboard is to present people with the categorisation of qualitative data.</p>
<p>The dashboard automates the labelling/categorization of free text data (patient experience comments) using a multilabeling approach and gives users the functionality to interact with the data, do boolean searching on the text data, compare relationships across topics, visualize trends in the data, download reports, etc.</p>
<p><em>The functionalities highlighted here are based on version 0.9 of the experiences dashboard package. Please go <a href="../posts/dashboard-update-23-07-18/index.html">here</a> to see the update of the previous versions.</em></p>
<section id="the-structure" class="level2">
<h2 class="anchored" data-anchor-id="the-structure">The structure</h2>
<p>The dashboard is built using <a href="https://engineering-shiny.org/golem.html">golem</a>, an R package for building production-ready Shiny applications. The dashboard saves and loads data from a database and gives users the functionality to upload their unlabeled comment data (in several formats such as .csv or .xlsx) for labelling. The dashboard processes the feedback data and presents several insights using interactive tables, charts and other data formats for easy digestion of the data. Figure 1 below shows the schematic diagram of the dashboard’s structure. We have the source code <a href="https://github.com/CDU-data-science-team/experiencesdashboard">here</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/expdash_structure.png"><img src="images/expdash_structure.png" class="img-fluid figure-img" alt="Dashboard structure"></a></p>
<figcaption>Fig 1. Dashboard structure</figcaption>
</figure>
</div>
</section>
</section>
<section id="getting-started" class="level1">
<h1>Getting started</h1>
<section id="new-trust-onboarding-process" class="level2">
<h2 class="anchored" data-anchor-id="new-trust-onboarding-process">New Trust Onboarding Process</h2>
<p>As a new user, to begin using the dashboard, you need to <a href="mailto:chris.beeley1@nhs.net">reach out to the project</a> team so they can establish your organization’s version of the dashboard. The team will assess your request, arrange a meeting to discuss your requirements and provide an onboarding email enabling you to access the dashboard.</p>
</section>
<section id="uploading-your-data" class="level2">
<h2 class="anchored" data-anchor-id="uploading-your-data">Uploading your data</h2>
<p>To access the dashboard contents, you need to upload your data. It is a simple process:</p>
<ol type="1">
<li><p>Go to the “data upload and management” tab</p></li>
<li><p>Click on the “upload new data” button</p></li>
<li><p>Search for the file and click “Import data”</p></li>
</ol>
<p>There are a few things to note here. The data must pass the following checks:</p>
<ol type="1">
<li><p><em>Column names:</em> They should follow the names used in the <a href="https://github.com/CDU-data-science-team/experiencesdashboard/raw/main/data-raw/New%20general%20trust%20template.xlsx">“general_trust_template”</a>. The dashboard ignores columns with names other than these.</p></li>
<li><p><em>Compulsory columns</em>: the following columns must be present in your data no matter your Trust configuration: <strong>“date”, “location_1”, “question_1”, “fft_score”.</strong></p></li>
<li><p><em>Additional Columns</em>: Your data must contain other columns depending on your Trust configuration agreed upon during onboarding. e.g.&nbsp;if you indicated you would like to filter using demographic features such as Sex, and Age, then the “sex” and “age” column must be present in your uploaded data. Likewise, if you indicated you needed to filter using the 3 clinical locations, then the “location_1”, “location_2”, and “location_3” columns must be present in your data.</p></li>
<li><p><em>File extension:</em> The following file extensions can be used to upload data: .csv, .txt, .xls, .xlsx, .rds, .fst, .sas7bdat, .sav. However, we recommend using .xlsx (Excel format).</p></li>
<li><p><em>Date format:</em> As much as possible, the date format should be in dd/mm/yyyy e.g.&nbsp;30/09/2021, 27/10/2022.</p></li>
</ol>
</section>
</section>
<section id="using-the-dashboard" class="level1">
<h1><strong>Using the dashboard</strong></h1>
<p>Below are the key features of the dashboard. Figure 2 below shows a screenshot of the dashboard landing page alongside all the feature tabs and the data selection options.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/landing_page.jpg"><img src="images/landing_page.jpg" class="img-fluid figure-img" alt="Dashboard Landing page"></a></p>
<figcaption>Fig 2. Dashboard landing page showing the feature tabs and the data drilling options</figcaption>
</figure>
</div>
<p>In this section, I will discuss the key features of the dashboard.</p>
<section id="data-selection" class="level2">
<h2 class="anchored" data-anchor-id="data-selection">Data Selection</h2>
<section id="sidebar-filters---affect-all-tabs" class="level3">
<h3 class="anchored" data-anchor-id="sidebar-filters---affect-all-tabs">Sidebar filters - affect all tabs</h3>
<p>From the sidebar section of the dashboard, users can drill down using the hierarchy levels within their data such as divisions, directorates and teams and they can also filter by dates and three different demographic features. All the dashboard features and visualizations change in line with the selection from the sidebar.</p>
<p>Note that the data filtering feature you will see on your dashboard will depend on the presence of the appropriate columns in the data that is being uploaded.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="images/sidebar-filter.jpg"><img src="images/sidebar-filter.jpg" class="img-fluid quarto-figure quarto-figure-left figure-img" alt="Sidebar filter" width="256"></a></p>
<figcaption>Fig 3: Sidebar filter - The filter affects the dashboard contents on all of the feature tabs</figcaption>
</figure>
</div>
</section>
<section id="tab-specific-filters---affect-a-specific-tab" class="level3">
<h3 class="anchored" data-anchor-id="tab-specific-filters---affect-a-specific-tab">Tab-specific filters - affect a specific tab</h3>
<p>Some of the feature tabs (such as the “Categorised comments over time” and “Additional data exploration tools” tab) have additional data filtering features that allow you to drill down into the data and visualise smaller samples of the data in that particular tab. <em>These tab-specific filters don’t affect the data that is viewed in other feature tabs of the dashboard.</em></p>
</section>
</section>
<section id="feature-tabs" class="level2">
<h2 class="anchored" data-anchor-id="feature-tabs">Feature tabs</h2>
<section id="understanding-the-categories" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-categories">Understanding the categories</h3>
<p>This tab contains a brief introduction to the data categorisation framework developed as part of this project and used to assign the sub-categories to the free text comments, see the <a href="../framework/index.html">framework</a> for more details. It also contains examples of comments that fall under each sub-category.</p>
</section>
<section id="categorised-comments-over-time" class="level3">
<h3 class="anchored" data-anchor-id="categorised-comments-over-time">Categorised comments over time</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/trend-tab.png"><img src="images/trend-tab.png" class="img-fluid figure-img" alt="Comment Distribution over Time"></a></p>
<figcaption>Fig 4. Comment Distribution over Time</figcaption>
</figure>
</div>
<p>It shows a visual of the monthly distribution of comments in the sub-category/super-category levels. This visual should be used to help identify patterns in the data, particularly where there are clusters of comments around a particular sub-category.</p>
<p>The plot is interactive and the box increases with the volume of comments. Clicking on any of the boxes will show the underlying comments (alongside key columns such as date, FFT question type, FFT score and assigned Sentiment, sub-categories and super-categories). The comments should be read to explore explanations for any pattern seen on the visual and to carry out any additional qualitative analysis as required.</p>
</section>
<section id="sub-categories-people-are-telling-us-about" class="level3">
<h3 class="anchored" data-anchor-id="sub-categories-people-are-telling-us-about">Sub-categories people are telling us about</h3>
<p>This tab contains a few information and functionalities. These are</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/cetegory-tab.png"><img src="images/cetegory-tab.png" class="img-fluid figure-img" alt="Summary Tab"></a></p>
<figcaption>Fig 5. Summary Tab</figcaption>
</figure>
</div>
<section id="number-of-samples-in-filtered-selection" class="level4">
<h4 class="anchored" data-anchor-id="number-of-samples-in-filtered-selection">Number of samples in filtered Selection</h4>
<p>Come here to quickly see the volume of comments visualised in the dashboard. The tab shows the total number of comments/responders in the current selection (based on the filter applied from the sidebar) and the total number of comments/responders in the database (ignoring all the sidebar filters). The figure in the “current selection” represents the actual data that you are viewing in the dashboard. If you didn’t select any filter from the sidebar, then the “database” figures will be the same as those of the “current selection” figures.</p>
</section>
<section id="sub-category-table" class="level4">
<h4 class="anchored" data-anchor-id="sub-category-table">Sub-category table</h4>
<p>This shows a table of the number of comments in each sub-category. Users can select a sub-category from the table to see all the comments relating to the selection.</p>
</section>
</section>
<section id="complex-comments" class="level3">
<h3 class="anchored" data-anchor-id="complex-comments">Complex comments</h3>
<p>We identify that there may be situations where the machine learning model might be wrong in the sub-categories assigned to comments, and this may be especially true for very long comments. We set some criteria to catch those complex comments for further interrogation. Below are the simple criteria used to flag a comment as a complex comment (if any are met):</p>
<ol type="1">
<li><p>The comment has over 50 words</p></li>
<li><p>The comment has over 5 labels attached</p></li>
</ol>
<p>Users can view and download the data containing complex comments from this section of the dashboard.</p>
</section>
<section id="comment-search" class="level3">
<h3 class="anchored" data-anchor-id="comment-search">Comment Search</h3>
<p>Users can make a Boolean search for comments with specific keyword(s). The result of the search can be downloaded. The keywords used in the search are used as the filename when saving the data.</p>
</section>
<section id="additional-data-exploration-tools" class="level3">
<h3 class="anchored" data-anchor-id="additional-data-exploration-tools">Additional data exploration tools</h3>
<p>This shows an upset plot, which is a type of visualisation for analysing data with a large set (in our case sub-categories). The plot allows users to see the number of comments in the sub-categories association, i.e., you can see the sub-categories that occur together more/less often based on the number of comments they have in common. Users <strong>can’t interact with this plot</strong> but they have the option to scroll down and select two or three sub-categories to see the underlying comments they have in common.</p>
<p>There are two sub-tabs in this tab that allow you to view the relationship within a category (e.g.&nbsp;staff) or across all the categories. The column bar on the plot shows the total number of comments in each relationship. A selection feature is provided to set the minimum number of comments a relationship needs to have in other to show on the pot.</p>
<p><strong>The plot is not currently interactive, you need to use the selection features below the plot to select the 2 or 3 sub-categories you wish to explore.</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/upset.png"><img src="images/upset.png" class="img-fluid figure-img" alt="Tab showing Inter-relationship between sub-categories and comment table"></a></p>
<figcaption>Fig 6. Inter-relationship between sub-categories and comment table</figcaption>
</figure>
</div>
<p>The visual should be used to identify sub-categories with relationship and the sub-category selection functionalities should be used to see the underlined comment and investigate the pattern. Please see our post on <a href="../posts/upset_plot-23-07-18/index.html">using an upset plot to explore the relationship between large categorical data</a> to understand more about upset plots.</p>
<p><strong><em>There is a known issue with the inter-relationship plots not fitting the screen for users on a small screen. Here is a quick fix:</em></strong></p>
<p><strong><em>a. Please access your browser setting (three dots (…) at the top right of your browser)</em></strong></p>
<p><strong><em>b. Zoom out to 75% or 80%</em></strong></p>
</section>
<section id="respondent-demographics" class="level3">
<h3 class="anchored" data-anchor-id="respondent-demographics">Respondent demographics</h3>
<p>Two types of charts are shown here for each demographic variable</p>
<ul>
<li>Distribution of the demographics in the sample.</li>
<li>The percentage of the mean FFT score for each group in the demographic feature. Where a Mean score of 1 is 100% and 5 is 0%.</li>
</ul>
</section>
<section id="data-upload-and-management-section" class="level3">
<h3 class="anchored" data-anchor-id="data-upload-and-management-section">Data upload and management section</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/data_mgt.png"><img src="images/data_mgt.png" class="img-fluid figure-img" alt="Data management tab"></a></p>
<figcaption>Fig 7. Data Upload and Management tab</figcaption>
</figure>
</div>
<p><strong>This tab will only be visible to those specific users within your organisation who have the right to upload new data or amend the existing data in the dashboard.</strong></p>
<p>In this tab, users have the functionality to</p>
<ul>
<li><p><em>Assign label to new data</em>: Users can upload their data and once this data is uploaded the pxtextmining API is called to assign sub-categories to the free comments and the data is saved in the database. Users can then refresh their browsers to assess the newly uploaded data alongside their existing data.</p></li>
<li><p><em>Manage Data</em>: Users can delete rows within their data right from the dashboard environment.</p></li>
<li><p><em>Download historical data</em>: Users can download the whole underline data currently loaded into the dashboard.</p></li>
<li><p><em>Flag comments as wrongly coded or as interesting:</em> Users familiar with the comments data can flag wrongly labelled comments (or those which should be assigned additional labels) by checking the <i class="far fa-circle-xmark" role="presentation" aria-label="circle-xmark icon" style="color:red"></i> box. Also, they can flag comments as interesting (for later download) by checking the <i class="far fa-flag" role="presentation" aria-label="flag icon" style="color:green"></i> box of the comment.</p></li>
<li><p><em>Download flagged comments data</em>: If any comments are flagged as “interesting”, they will be available for download from this tab.</p></li>
</ul>
</section>
</section>
</section>
<section id="what-next" class="level1">
<h1>What Next?</h1>
<p>We kindly ask for feedback from the dashboard users. How have you utilized the dashboard? What benefits have you gained from using it? Are there any changes or adjustments that you would recommend? Moreover, we would like to know what new features you would like to see added. Your input is significant to us in making the dashboard more effective and useful.</p>
<p>Please contact us by emailing chris.beeley1@nhs.net.</p>


</section>

</main> <!-- /main -->
<script type="text/javascript">

    // replace cmd keyboard shortcut w/ control on non-Mac platforms
    const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
    if (!kPlatformMac) {
       var kbds = document.querySelectorAll("kbd")
       kbds.forEach(function(kbd) {
          kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
       });
    }
    
    </script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This page is built with <a href="https://quarto.org/">Quarto</a> and is based on the <a href="https://github.com/craig-shenton/quarto-nhs-theme">NHS Theme by Craig Shenton</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/The-Strategy-Unit/PatientExperience-QDC/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/The-Strategy-Unit/PatientExperience-QDC/blob/main/LICENCE">
<p>License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/The-Strategy-Unit/PatientExperience-QDC/blob/main/CODE_OF_CONDUCT.md">
<p>Code of Conduct</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>